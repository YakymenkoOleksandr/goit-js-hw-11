{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js"],"sourcesContent":["import iziToast from 'izitoast';                                  // Бібліотека для повідомлень\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';                      // Бібліотека для галереї\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const userList = document.querySelector('.userList');             // Галерея\nexport const areaForLoader = document.querySelector('.areaForLoader');   // Лоадер\n\nexport const lightbox = new SimpleLightbox('.gallery a', {   // Великі картинки \n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nexport let imagesLength = '';\n\nexport function renderImg(images) {                        // Рендар фото в браузері\n  imagesLength = images.length;\n\n  const markupImg = images                          \n    .map(image => {\n      console.log(image);\n      return `<div class=\"blockForAllElements\">\n          <li>\n          <a href=${image.largeImageURL} download=\"false\">\n          <img src=${image.webformatURL} alt = \"${image.tags}\" class = \"imgOfUser\">\n          </a>\n          </li>\n          <div class = \"divForDescription\"> \n          <ul class=\"blockOfInfo\"> \n            <li class=\"title\">Likes</li>\n            <li class=\"info\">${image.likes}</li>\n          </ul>\n          <ul class=\"block\">\n            <li class=\"title\">Views</li>\n            <li class=\"info\">${image.views}</li>\n          </ul>\n          <ul class=\"block\">\n            <li class=\"title\">Comments</li>\n            <li class=\"info\">${image.comments}</li>\n          </ul>\n          <ul class=\"block\">\n            <li class=\"title\">Downloads</li>\n            <li class=\"info\">${image.downloads}</li>\n          </ul>\n          </div>\n        </div>`;\n    })\n    .join('');\n  userList.insertAdjacentHTML('beforeend', markupImg);\n\n  lightbox.refresh();\n}\n\nexport function loaderF() {                                  // Створюємо лоадер\n  const spanElement = document.createElement('span');\n  areaForLoader.appendChild(spanElement);\n  spanElement.classList.add('loader');\n}\n\nexport function spanElementRem() {                           // Видаляємо лоадер\n  const loaderF = document.querySelector('.loader');\n  loaderF.remove();\n}\n\n\n","\n\nconst inputOfWords = document.querySelector('.inputOfWords');     // Інпут\nconst buttonForInput = document.querySelector('.buttonForInput'); // Кнопка\n\n\nlet wordOfUser = '';\n\n\nbuttonForInput.addEventListener('click', event => {   // Надсилання запиту на сервер\n  loaderF();\n  event.preventDefault();\n  userList.innerHTML = '';\n  setTimeout(() => {\n    wordOfUser = inputOfWords.value.trim();\n    checkInputValidity();\n  }, 2000);\n});\n\nfunction checkInputValidity() {                   // Перевірка валідності запиту\n  fetchImages()\n    .then(images => {\n      if (wordOfUser === '') {\n        iziToast.show({\n          color: 'red',\n          message: `Sorry, the input field must be filled in to start the photo search.`,\n          position: 'topCenter',\n        });\n      } else if (images.length === 0) {\n        iziToast.show({\n          color: 'red',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topCenter',\n        });\n      } else {\n        renderImg(images);\n      }\n    })\n    .catch(error => console.log(error))\n    .finally(() => spanElementRem());\n}\n\nfunction fetchImages() {                            // Запит на сервер для отримання фото\n  return fetch(\n    `https://pixabay.com/api/?key=42977219-0f6c9f9217f976d8651793c3a&q=${wordOfUser}&image_type=photo&per_page=15&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => data.hits);\n}\n\nimport { userList, renderImg, loaderF, spanElementRem,} from './render-functions.js';"],"names":["userList","areaForLoader","lightbox","SimpleLightbox","renderImg","images","markupImg","image","loaderF","spanElement","spanElementRem","inputOfWords","buttonForInput","wordOfUser","event","checkInputValidity","fetchImages","error","response","data"],"mappings":"svBAMO,MAAMA,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAgB,SAAS,cAAc,gBAAgB,EAEvDC,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,IACd,aAAc,KAChB,CAAC,EAIM,SAASC,EAAUC,EAAQ,CACjBA,EAAO,OAEtB,MAAMC,EAAYD,EACf,IAAIE,IACH,QAAQ,IAAIA,CAAK,EACV;AAAA;AAAA,oBAEOA,EAAM,aAAa;AAAA,qBAClBA,EAAM,YAAY,WAAWA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAM7BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,+BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,gBAIzC,EACA,KAAK,EAAE,EACVP,EAAS,mBAAmB,YAAaM,CAAS,EAElDJ,EAAS,QAAO,CAClB,CAEO,SAASM,GAAU,CACxB,MAAMC,EAAc,SAAS,cAAc,MAAM,EACjDR,EAAc,YAAYQ,CAAW,EACrCA,EAAY,UAAU,IAAI,QAAQ,CACpC,CAEO,SAASC,GAAiB,CACf,SAAS,cAAc,SAAS,EACxC,OAAM,CAChB,CC7DA,MAAMC,EAAe,SAAS,cAAc,eAAe,EACrDC,EAAiB,SAAS,cAAc,iBAAiB,EAG/D,IAAIC,EAAa,GAGjBD,EAAe,iBAAiB,QAASE,GAAS,CAChDN,IACAM,EAAM,eAAc,EACpBd,EAAS,UAAY,GACrB,WAAW,IAAM,CACfa,EAAaF,EAAa,MAAM,OAChCI,GACD,EAAE,GAAI,CACT,CAAC,EAED,SAASA,GAAqB,CAC5BC,EAAa,EACV,KAAKX,GAAU,CACVQ,IAAe,GACjB,SAAS,KAAK,CACZ,MAAO,MACP,QAAS,sEACT,SAAU,WACpB,CAAS,EACQR,EAAO,SAAW,EAC3B,SAAS,KAAK,CACZ,MAAO,MACP,QAAS,2EACT,SAAU,WACpB,CAAS,EAEDD,EAAUC,CAAM,CAExB,CAAK,EACA,MAAMY,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAMP,EAAc,CAAE,CACnC,CAEA,SAASM,GAAc,CACrB,OAAO,MACL,qEAAqEH,CAAU,sEAChF,EACE,KAAKK,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,CAC3B"}